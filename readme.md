# Учет автомойки и детейлинга - SK-Detailing

Версия 4.2 (GitHub Sync с исправлением SHA конфликтов)

## Исправления в версии 4.2

- ✅ Исправлена ошибка SHA-конфликтов при синхронизации
- ✅ Добавлена функция принудительного сохранения
- ✅ Автоматическая проверка актуальности данных перед сохранением
- ✅ Улучшенная обработка конфликтов версий

## Решение проблемы SHA

Ошибка "data.json does not match [SHA]" возникала из-за того, что:

1. Файл на GitHub изменялся с момента последней загрузки
2. При сохранении использовался устаревший SHA-хэш
3. GitHub API отклонял запрос из-за несоответствия версий

## Новые функции

### Автоматическое разрешение конфликтов
- При сохранении система автоматически проверяет актуальность данных
- Если обнаружены изменения, загружаются актуальные данные
- Затем выполняется сохранение с правильным SHA

### Принудительное сохранение
- Кнопка "Принудительно сохранить" перезаписывает данные без проверки
- Используйте только в случае конфликтов, которые не удается разрешить автоматически
- **ВНИМАНИЕ**: Это может привести к потере данных на GitHub

## Рекомендации по использованию

1. **Регулярная синхронизация**: Чаще нажимайте "Синхронизировать с GitHub"
2. **При конфликтах**: Сначала попробуйте "Загрузить из GitHub", затем "Сохранить в GitHub"
3. **Только в крайних случаях**: Используйте "Принудительно сохранить"

## Алгоритм работы

1. При сохранении проверяется текущий SHA файла на GitHub
2. Если SHA изменился, загружаются актуальные данные
3. Сохранение выполняется с обновленным SHA
4. При ошибках предлагаются варианты решения